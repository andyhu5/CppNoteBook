除了 `crossbeam`，Rust 生态中还有许多优秀的并发编程第三方库，覆盖了不同的并发场景（如并行计算、异步编程、分布式系统等）。以下是一些常用的库：

### 1. 并行计算与任务调度

#### `rayon`

- **核心功能**：基于工作窃取算法的并行迭代器和任务池，让串行代码只需少量修改即可并行化。

- **特点**：API 简洁，自动利用多核，适合 CPU 密集型任务（如图像处理、数据分析）。

- **示例**：

  rust

  ```rust
  use rayon::prelude::*;
  
  fn main() {
      let numbers = 1..=1000;
      // 并行求和
      let sum: i32 = numbers.into_par_iter().sum();
      println!("Sum: {}", sum);
      
      // 并行排序
      let mut vec = vec![3, 1, 4, 1, 5];
      vec.par_sort();
  }
  ```
  

#### `async-std`

- **核心功能**：另一个异步运行时，API 设计更接近标准库，强调 “异步版标准库”。

- **特点**：与 `std` 接口相似，易于上手，支持 `async/await`。

- **示例**：

  rust

  ```rust
  use async_std::task;
  use std::time::Duration;
  
  fn main() {
      task::block_on(async {
          task::spawn(async {
              task::sleep(Duration::from_secs(1)).await;
              println!("Async task");
          }).await;
      });
  }
  ```

### 2. 并发数据结构

#### `dashmap`

- **核心功能**：高性能并发哈希表，基于分片锁实现，支持多线程安全读写。

- **特点**：比 std::collections::HashMap+ `RwLock` 性能更高，API 类似标准库 `HashMap`。

- **示例**：

  rust

  ```rust
  use dashmap::DashMap;
  use std::thread;
  
  fn main() {
      let map = DashMap::new();
      map.insert(1, "one");
      
      thread::spawn(move || {
          map.insert(2, "two");
      }).join().unwrap();
      
      println!("{:?}", map.get(&1)); // Some("one")
  }
  ```

#### `flume`

- **核心功能**：高效的多生产者多消费者（MPMC）通道，替代标准库 `mpsc`。

- **特点**：支持公平调度、带缓冲 / 无缓冲模式，性能优于 `std::sync::mpsc`。

- **示例**：

  rust

  ```rust
  use flume::{unbounded, Sender, Receiver};
  use std::thread;
  
  fn main() {
      let (tx, rx) = unbounded();
      
      // 多生产者
      let tx1 = tx.clone();
      thread::spawn(move || tx1.send(1).unwrap());
      thread::spawn(move || tx.send(2).unwrap());
      
      // 接收
      assert_eq!(rx.recv().unwrap() + rx.recv().unwrap(), 3);
  }
  ```

#### `lockfree`

- **核心功能**：提供多种无锁数据结构，如队列、栈、哈希表。
- **特点**：基于原子操作实现，无锁竞争，适合高并发场景。
- **组件**：`Queue`（无锁队列）、`Stack`（无锁栈）、`HashMap`（实验性无锁哈希表）。

### 3. 同步原语增强

#### `parking_lot`



- **核心功能**：替代标准库的 `Mutex`、`RwLock`、`Condvar` 等同步原语。

- futex - fast user-space locking (https://man7.org/linux/man-pages/man2/futex.2.html)

- **特点**：性能更高（减少系统调用）、API 更友好（无需手动处理 `PoisonError`）。

- **示例**：

  rust

  ```rust
  use parking_lot::Mutex;
  use std::thread;
  
  fn main() {
      let mutex = Mutex::new(0);
      
      thread::spawn(move || {
          *mutex.lock() += 1;
      }).join().unwrap();
      
      println!("{}", mutex.lock()); // 1
  }
  ```

#### **`crossbeam-utils`**  *******

- **核心功能**：`crossbeam` 拆分出的工具库，提供线程局部存储、缓存行对齐等底层工具。

#### `futures`

- **核心功能**：异步编程基础组件，定义了 `Future` trait 及各种异步适配器，被 `tokio` 等运行时依赖。

### 选择建议

- **CPU 密集型并行**：优先用 `rayon`（简单）或 `crossbeam`（灵活）。
- **I/O 密集型异步**：选 `tokio`（生态丰富）或 `async-std`（贴近标准库）。
- **并发数据结构**：`dashmap`（哈希表）、`flume`（通道）、`lockfree`（无锁结构）。
- **同步原语**：`parking_lot` 替代标准库的锁，性能更好。

这些库共同构成了 Rust 强大的并发生态，覆盖了从单机多线程到分布式系统的各种场景。