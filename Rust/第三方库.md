除了 `crossbeam`，Rust 生态中还有许多优秀的并发编程第三方库，覆盖了不同的并发场景（如并行计算、异步编程、分布式系统等）。以下是一些常用的库：

### 1. 并行计算与任务调度

#### `rayon`

- **核心功能**：基于工作窃取算法的并行迭代器和任务池，让串行代码只需少量修改即可并行化。

- **特点**：API 简洁，自动利用多核，适合 CPU 密集型任务（如图像处理、数据分析）。

- **示例**：

  rust

  ```rust
  use rayon::prelude::*;
  
  fn main() {
      let numbers = 1..=1000;
      // 并行求和
      let sum: i32 = numbers.into_par_iter().sum();
      println!("Sum: {}", sum);
      
      // 并行排序
      let mut vec = vec![3, 1, 4, 1, 5];
      vec.par_sort();
  }
  ```
  
  ![img](data:image/png;base64,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)

#### `tokio`

- **核心功能**：异步运行时，专注于异步 I/O 密集型任务（如网络服务、数据库操作）。

- **特点**：基于事件驱动，支持异步 `async/await` 语法，提供任务调度、定时器、网络组件等。

- **适用场景**：高性能服务器（HTTP、WebSocket 等）、异步爬虫。

- **示例**：

  rust

  

  ```rust
  use tokio::time::{sleep, Duration};
  
  #[tokio::main]
  async fn main() {
      // 异步任务
      tokio::spawn(async {
          sleep(Duration::from_secs(1)).await;
          println!("Task done");
      }).await.unwrap();
  }
  ```

#### `async-std`

- **核心功能**：另一个异步运行时，API 设计更接近标准库，强调 “异步版标准库”。

- **特点**：与 `std` 接口相似，易于上手，支持 `async/await`。

- **示例**：

  rust

  ```rust
  use async_std::task;
  use std::time::Duration;
  
  fn main() {
      task::block_on(async {
          task::spawn(async {
              task::sleep(Duration::from_secs(1)).await;
              println!("Async task");
          }).await;
      });
  }
  ```

### 2. 并发数据结构

#### `dashmap`

- **核心功能**：高性能并发哈希表，基于分片锁实现，支持多线程安全读写。

- **特点**：比 `std::sync::HashMap` + `RwLock` 性能更高，API 类似标准库 `HashMap`。

- **示例**：

  rust

  ```rust
  use dashmap::DashMap;
  use std::thread;
  
  fn main() {
      let map = DashMap::new();
      map.insert(1, "one");
      
      thread::spawn(move || {
          map.insert(2, "two");
      }).join().unwrap();
      
      println!("{:?}", map.get(&1)); // Some("one")
  }
  ```

#### `flume`

- **核心功能**：高效的多生产者多消费者（MPMC）通道，替代标准库 `mpsc`。

- **特点**：支持公平调度、带缓冲 / 无缓冲模式，性能优于 `std::sync::mpsc`。

- **示例**：

  rust

  ```rust
  use flume::{unbounded, Sender, Receiver};
  use std::thread;
  
  fn main() {
      let (tx, rx) = unbounded();
      
      // 多生产者
      let tx1 = tx.clone();
      thread::spawn(move || tx1.send(1).unwrap());
      thread::spawn(move || tx.send(2).unwrap());
      
      // 接收
      assert_eq!(rx.recv().unwrap() + rx.recv().unwrap(), 3);
  }
  ```

#### `lockfree`

- **核心功能**：提供多种无锁数据结构，如队列、栈、哈希表。
- **特点**：基于原子操作实现，无锁竞争，适合高并发场景。
- **组件**：`Queue`（无锁队列）、`Stack`（无锁栈）、`HashMap`（实验性无锁哈希表）。

### 3. 同步原语增强

#### `parking_lot`

- **核心功能**：替代标准库的 `Mutex`、`RwLock`、`Condvar` 等同步原语。

- **特点**：性能更高（减少系统调用）、API 更友好（无需手动处理 `PoisonError`）。

- **示例**：

  rust

  ```rust
  use parking_lot::Mutex;
  use std::thread;
  
  fn main() {
      let mutex = Mutex::new(0);
      
      thread::spawn(move || {
          *mutex.lock() += 1;
      }).join().unwrap();
      
      println!("{}", mutex.lock()); // 1
  }
  ```

#### `atomic`

- **核心功能**：扩展标准库的原子类型，提供更多原子操作（如原子浮点数、数组）。
- **特点**：支持 `AtomicU64`、`AtomicVec` 等，适合需要细粒度原子操作的场景。

### 4. 分布式与集群并发

#### `tonic`

- **核心功能**：基于 gRPC 的异步 RPC 框架，用于服务间通信。
- **特点**：类型安全，支持流式通信，适合构建分布式系统。

#### `r2d2`

- **核心功能**：通用连接池，管理数据库连接等资源的并发访问。
- **特点**：自动回收空闲连接，限制最大连接数，避免资源耗尽。

### 5. 其他工具

#### `crossbeam-utils`

- **核心功能**：`crossbeam` 拆分出的工具库，提供线程局部存储、缓存行对齐等底层工具。

#### `futures`

- **核心功能**：异步编程基础组件，定义了 `Future` trait 及各种异步适配器，被 `tokio` 等运行时依赖。

### 选择建议

- **CPU 密集型并行**：优先用 `rayon`（简单）或 `crossbeam`（灵活）。
- **I/O 密集型异步**：选 `tokio`（生态丰富）或 `async-std`（贴近标准库）。
- **并发数据结构**：`dashmap`（哈希表）、`flume`（通道）、`lockfree`（无锁结构）。
- **同步原语**：`parking_lot` 替代标准库的锁，性能更好。

这些库共同构成了 Rust 强大的并发生态，覆盖了从单机多线程到分布式系统的各种场景。